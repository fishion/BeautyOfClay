(()=>{var e={354:(e,t,a)=>{"use strict";const n=a(409),r=a(927),s=a(527);e.exports=(e,t)=>({generateForm:function(){return`\n      <form>\n        <div id="form_generalError"></div>\n        ${e.expectedFormData.map((e=>{const t="message"==e.name?`<textarea name="${e.name}"></textarea>`:`<input type="text" name="${e.name}">`;return`\n        <div id="formField_${e.name}">\n           ${t}\n           <label>${e.niceName}${e.validation?" *":""}</label>\n         </div>`})).join("")}\n        <div>\n          <button type="button">Send</button>\n        </div>\n      </form>\n    `},addFormEvents:function({contentClass:a=!0,recaptcha:s=!0}={}){const o=n(t,e),i=t.getElementsByTagName("button")[0];a&&o.addContentClass(),s?window.initForm=()=>{const a=r(t,e["recaptcha2-site-secret"]);o.afterSubmit=()=>{grecaptcha.reset()};var n=a.addRecaptcha((()=>{o.submitForm()}));i.addEventListener("click",(()=>{o.validate()&&grecaptcha.execute(n)}))}:i.addEventListener("click",(()=>{o.validate()&&o.submitForm()}))},validateFormData:s})},409:(e,t,a)=>{const n=a(527);e.exports=function(e,t){function a(){return[...e.getElementsByTagName("input"),...e.getElementsByTagName("textarea")].reduce(((e,t)=>({[t.name]:t.value,...e})),{})}function r(e){"string"==typeof e?document.getElementById("form_generalError").appendChild(s(`Error : ${e}`,"error")):(document.getElementById("form_generalError").appendChild(s("Please check errors below","error")),Object.keys(e).forEach((t=>{document.getElementById(`formField_${t}`).appendChild(s(e[t],"error"))})))}function s(e,t){const a=document.createElement("p");return t&&a.classList.add(t),a.textContent=e,a}return{afterSubmit:()=>{},addContentClass:function(){e.addEventListener("keyup",(e=>{e.target.value.match(/[^\s]/)?e.target.classList.add("hascontent"):e.target.classList.remove("hascontent")}))},validate:function(){[...e.getElementsByClassName("error"),...e.getElementsByClassName("success")].forEach((e=>{e.remove()}));const[s,o]=n(a(),t.expectedFormData);return!Object.keys(o).length||(r(o),!1)},submitForm:async function(){const n=a(),o=await fetch(t.contactUsAPI,{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify({siteKey:t.siteKey,...n})}),i=await o.json();"400"==o.status?r(i.error):"200"==o.status&&(document.getElementById("form_generalError").appendChild(s("Message received - Thank you!","success")),[...e.getElementsByTagName("input"),...e.getElementsByTagName("textarea")].forEach((e=>{e.value="",e.classList.remove("hascontent")}))),this.afterSubmit()}}}},927:e=>{e.exports=(e,t)=>({addRecaptcha:function(a){const n=document.createElement("div");return n.classList.add("g-recaptcha"),e.appendChild(n),grecaptcha.render(n,{sitekey:t,size:"invisible",badge:"bottomright",callback:a})}})},527:e=>{e.exports=(e,t)=>{const a={},n=[];return t.forEach((t=>{if(e[t.name]){switch(t.validation&&t.validation.type){case"email":e[t.name].match(/.*@.*\..*/)||(a[t.name]=t.validation.error);break;case void 0:break;default:throw`Validation type '${t.validation}' not defined`}n.push(`${t.niceName||t.name} : ${e[t.name]}`)}else t.required&&(a[t.name]=t.required)})),[n,a]}},181:e=>{"use strict";e.exports=JSON.parse('{"cr":{"recaptcha2-site-secret":"6LdOWmkaAAAAAAXH3BvOKcI2wrq53-qq3bjtSR2s","contactUsAPI":"https://api.maytreehousestudios.co.uk/contact-us","siteKey":"beautyofclay","expectedFormData":[{"name":"name","niceName":"Name"},{"name":"email","niceName":"Email","validation":{"type":"email","error":"Please enter a valid Email Address"},"required":"No email address provided"},{"name":"whereHear","niceName":"Where did you hear about us"},{"name":"message","niceName":"Message","required":"Please enter your message to us here"}]}}')}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{"use strict";const e=a(181).cr,t=document.getElementsByTagName("form")[0];a(354)(e,t).addFormEvents()})()})();